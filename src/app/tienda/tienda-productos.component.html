<div class="container row">
    <div class="col-md-2">
        <h1>Productos</h1>
    </div>
    <div class="col-md-10 custom-products-cart-container">
        <div class="offset-md-8">
            <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">
                    <br>
                    <a href="#" class="btn btn-info btn-lg" data-toggle="dropdown" role="button" aria-expanded="false">
                        <span class="fa shopping-cart"> 
                           Productos en carrito:
                        </span>
                        <span class="caret">{{cartProducts.length}}</span>
                    </a>
                    <ul class="dropdown-menu dropdown-cart" style="width: 250px;height: 200px;" role="menu">
                        <li *ngFor="let item of cartProducts">
                            <div class="item product-cart-item row">
                                <div class="col" *ngIf="item">{{item.name}}</div>
                                <div class="col" *ngIf="item"><strong>{{item.price | currency:'CO'}}</strong></div>
                                <div class="col" *ngIf="item"><strong>{{item.quantity}}</strong></div>

                            </div>
                        </li>
                        
                        <hr>
                        <li><a class="btn btn-small btn-success" role="button" (click)="goToCart(cartProducts)">Ver Carrito</a></li>
                        <br>
                        <li *ngIf="cartProducts.length > 0">
                            <a class="btn btn-small btn-warning" role="button" (click)="emptyCart(cartProducts)">Vaciar Carrito</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<hr>
<hr>

<div class="container row">
    <div class="col-md-4" *ngFor="let product of products;let i=index">
        <div class="card card-block">
            <img class="custom-image-style" img src="{{product.retrievedImage}}" height="200" width="200" style="margin-left: 60px;
          margin-top: 10px">
            <div class="product-desc-container row" style="height: 320px;">
                <div>
                   <div id="discountLabel" *ngIf=descuento(product.uuid)>Descuento</div>
                    <p style="margin-left: 60px"><strong> Sku:</strong> {{product.sku}}</p>
                    <p style="margin-left: 60px"><strong>{{product.name}} </strong> </p>
                    <p style="margin-left: 60px;color: gray;"*ngIf=descuento(product.uuid)> <del><strong>Antes: {{product.price | currency:'CO'}}</strong></del></p>
                    <p style="margin-left: 60px"><strong>Ahora: {{product.discountPrice | currency:'CO'}}</strong></p>
                    <p style="margin-left: 60px">{{product.description}}</p>
                    <p style="margin-left: 60px"> <strong>Cantidad</strong> <input type="number"min="1" value="1" style="height: 30px; width: 50px;margin-left: 20px;" [(ngModel)]="product.quantity"> </p>

                </div>
                <div class="offset-md-4 col-md-4">
                    <button class="btn btn-primary btn-sm" style="width: 130px;" (click)="addToCart(product.uuid)" >AÃ±adir al carrito</button>
                </div>
            </div>

        </div>
    </div>
</div>